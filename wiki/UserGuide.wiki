#summary User Guide.
#labels Featured

= Introduction =

This plugin aims to render as PDF or HTML reports built on JasperReport (or IReport) in a very simple way.

== Why this plugin? ==

  *  Legacy reports are more likely to expect simple parameters and use big/complex SQL queries.
  *  Most developers prefer build reports using IReport IDE and SQL Queries. Even more when we are talking about subreports.
  *  Refactor reports built on "parameters -> report" approach to "model -> report" is a hard task. Again, even more when we are talking about subreports.

= ---------------------------------------- =
= Installation =

As always: <br>
{{{install-plugin jasper-response}}}

Or:
  # [http://code.google.com/p/grails-jasper-response-plugin/downloads/list Download] the .zip
  # {{{install-plugin /path_to_your_jar/grails-jasper-response-x.zip}}}

*Important:* This plugin does not bring JasperReport library along with it. As of JasperReport *3.6.0* is compatible.

= ---------------------------------------- =
= Usage Example =

After install the plugin and a compatible JasperReport library, let's do the following...

== 1. Build a JaperReport using IReport ==
It's a simple report that waits for one parameter (*_"name"_*).<br>
<img src="https://lh3.googleusercontent.com/-Rv5UDWK9-ms/T9PmLrNtcfI/AAAAAAAAAQY/xMkwlJTWV1E/s640/step01.jpg"/>

<br>
== 2. Build the "BeeController" and the "report" action ==
<img src="https://lh3.googleusercontent.com/-Dg_8MLyD2Ow/UKU6S0rOXOI/AAAAAAAAASQ/mKhHMotjtgY/s521/controller.png"/><br>
*Important:* The above example take *params* to render the report, but any other Map object can be used.


<br>
== 3. Build the "index.gsp" on "views/bee" folder ==
We could use GSP or HTML tags. The important is reach *report()* method at *BeeController*.<br>
<img src="https://lh4.googleusercontent.com/-Bg76VUZ9Cko/UKU6VDYmPTI/AAAAAAAAASQ/0oBXO5PnMX8/s425/form.png"/><br>
See that we have a *name* parameter sent to controller. Why *name*? Because *name* is the expected parameter in JasperReport file.

<br>
== 4. Place the .jasper file into right place ==
Place the *".jasper"* file into */view/bee/* folder. If the called method is *report()*, so file name must be *report.jasper*. <br>
_Yes, following Grails conventions!_. If you need a custom name, no panic: Take a look at *Custom Configuration*.

<br>
== 5. Run the application, and test ==
Access _http://host:port/context/bee/_ <br>
<img src="https://lh3.googleusercontent.com/-tcpKENWJvZA/T9PmMSzu_iI/AAAAAAAAAQM/ZeQg8oUOC6I/s562/step04.jpg"/>

<br>

Fill and submit the form <br>
<img src="https://lh5.googleusercontent.com/-Ckk9CxA3z5E/T9PmMxvmlXI/AAAAAAAAAP4/PuW27DUwc5k/s640/step05.png"/>
<br>
*DONE! That's our PDF!* The file name is *report.pdf*. If you need a custom name, no panic: Take a look at *Custom Configuration*.

= ---------------------------------------- =
= Custom Configurations =
The final step is always _render <Map object> as Jasper_. *The used Map must contain the required parameters in Jasper file*, but if you add some _specific parameters_, it's possible to customize the response. These parameters are:
|| *Paramater* || *Default Value* || *Description* ||
|| jasperRenderType || _pdf_ || Choose between *pdf* and *html* ||
|| jasperForceDownload || *false* || Force (*true*) or not (*false*) the report download ||
|| jasperDownloadName || _Same of invoked method at Controller_ || File name of generated report. _Don't use extension!_ ||
|| jasperSourceName || _Same of invoked method at Controller_ || ".jasper" file name, if you don't want or can't use Grails conventions. _Don't use extension!_||

<br>
==About ".jasper" file location==

*If the ".jasper" file is into a folder at "view" folder*<br>
The "jasperSourceName" parameter need starts with *"../"*. Example:
{{{
params.jasperSourceName='../anotherController/anotherReport' 
}}}
so the jasper-response-plugin would search _"view/anotherController/anotherReport.jasper"_

<br>
*If the ".jasper" file is into a folder at "web-app" folder*<br>
The "jasperSourceName" parameter need starts with *"/"*. Example:
{{{
params.jasperSourceName='/myCustomReportsFolder/myGeneralReport' 
}}}
so the jasper-response-plugin would search _"/web-app/myCustomReportsFolder/myGeneralReport.jasper"_